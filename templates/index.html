{% extends "base.html" %}

{% block title %}My Jackpot Numbers - Free Lottery Number Generator | Powerball, Mega Millions, EuroMillions{% endblock %}

{% block head %}
<meta name="description" content="Generate lottery numbers with personality! Free Powerball, Mega Millions, EuroMillions & Eurojackpot number generator with sarcastic humor. Try your luck today!">
<meta name="keywords" content="lottery number generator, powerball numbers, mega millions picker, euromillions generator, lottery quick pick, random lottery numbers">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://sarcastic-lottery.vercel.app/">
{% endblock %}

{% block content %}
<div class="container">
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-coins"></i>
            </div>
            <div class="logo-text">
                <h1>My Jackpot Numbers</h1>
                <p class="tagline">Professional lottery number generation with personality</p>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <div class="blog-nav-wrapper">
                <a href="/blog" class="nav-link lottery-wisdom-link">ðŸ“š Lottery Wisdom</a>
                <div class="lottery-wisdom-dropdown hidden">
                    {% for post in recent_posts[:3] %}
                    <div class="blog-preview-item">
                        <a href="/blog/{{ post.slug }}">{{ post.title }}</a>
                        <span class="preview-date">{{ post.date }}</span>
                    </div>
                    {% endfor %}
                    <div class="blog-preview-footer">
                        <a href="/blog">View All Posts â†’</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- UNIFIED GENERATOR SECTION - MOVED ABOVE CAROUSEL -->
    <section class="unified-generator priority-section">
        <h2 id="selectorTitle">Choose Your Wallet-Emptying Adventure</h2>
        <p class="section-subtitle" id="selectorSubtitle">Spoiler alert: the house always wins</p>

        <!-- Lottery Type Selector -->
        <div class="lottery-grid">
            <button class="lottery-btn active" data-type="powerball">
                <div class="lottery-info">
                    <span class="lottery-name">Powerball</span>
                    <small class="lottery-details">5 from 69 â€¢ 1 from 26</small>
                </div>
            </button>

            <button class="lottery-btn" data-type="megamillions">
                <div class="lottery-info">
                    <span class="lottery-name">Mega Millions</span>
                    <small class="lottery-details">5 from 70 â€¢ 1 from 24</small>
                </div>
            </button>

            <button class="lottery-btn" data-type="euromillions">
                <div class="lottery-info">
                    <span class="lottery-name">EuroMillions</span>
                    <small class="lottery-details">5 from 50 â€¢ 2 from 12</small>
                </div>
            </button>

            <button class="lottery-btn" data-type="eurojackpot">
                <div class="lottery-info">
                    <span class="lottery-name">Eurojackpot</span>
                    <small class="lottery-details">5 from 50 â€¢ 2 from 12</small>
                </div>
            </button>

            <button class="lottery-btn custom-btn" data-type="custom">
                <div class="lottery-info">
                    <span class="lottery-name">ðŸŽ² Custom</span>
                    <small class="lottery-details">Your numbers, your disappointment</small>
                </div>
            </button>
        </div>

        <!-- Custom Lottery Configuration (Hidden by default) -->
        <div id="customConfig" class="custom-config hidden">
            <div class="custom-form">
                <h3>Create Your Custom Lottery</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="mainCount">Pick</label>
                        <input type="number" id="mainCount" min="1" max="100" value="5" class="custom-input">
                        <span class="form-text">numbers from 1 to</span>
                        <input type="number" id="mainMax" min="1" max="10000" value="50" class="custom-input">
                    </div>
                </div>

                <div class="form-row">
                    <div class="checkbox-group">
                        <input type="checkbox" id="hasExtra" class="custom-checkbox">
                        <label for="hasExtra">This lottery has extra/bonus numbers</label>
                    </div>
                </div>

                <div id="extraConfig" class="extra-config hidden">
                    <div class="form-group">
                        <label for="extraCount">Pick</label>
                        <input type="number" id="extraCount" min="1" max="20" value="1" class="custom-input">
                        <span class="form-text">extra numbers from 1 to</span>
                        <input type="number" id="extraMax" min="1" max="1000" value="20" class="custom-input">
                    </div>
                </div>
            </div>
        </div>

        <!-- INTEGRATED: Combinations & Generate Section -->
        <div class="generator-controls">
            <!-- Options -->
            <div class="option-card">
                <label for="combinations">Combinations to Generate</label>
                <select id="combinations">
                    <option value="1">1 combination</option>
                    <option value="2">2 combinations</option>
                    <option value="3">3 combinations</option>
                    <option value="5">5 combinations</option>
                    <option value="10">10 combinations</option>
                    <option value="20">20 combinations</option>
                    <option value="50">50 combinations</option>
                    <option value="100">100 combinations</option>
                </select>
            </div>
            <p class="option-hint" id="optionHint">Remember: Each additional combination is another way to not win!</p>

            <!-- Generate Button -->
            <div class="generate-section">
                <button id="generateBtn" class="generate-btn">
                    <span>Generate My Disappointment</span>
                </button>
                <p class="generate-hint" id="generateHint">Press to contribute to infrastructure development</p>
            </div>
        </div>
    </section>

        <!-- Results -->
    <section id="results" class="results-section hidden">
        <div class="sarcastic-comment">
            <p id="comment"></p>
        </div>
        <div id="numbersContainer" class="numbers-container">
            <!-- Results will be inserted here -->
        </div>

        <!-- Success Stories Carousel -->
        <div class="success-stories">
            <h4>Recent "Success" Stories:</h4>
            <div class="stories-carousel-container">
                <div class="stories-carousel" id="storiesCarousel">
                    <div class="carousel-track" id="storiesTrack">
                        <!-- Stories will be inserted by JavaScript -->
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn prev" id="storiesPrev">â€¹</button>
                    <button class="carousel-btn next" id="storiesNext">â€º</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonial Reviews Carousel - MOVED BELOW GENERATOR -->
    <div class="reviews-carousel-container">
        <div class="reviews-carousel" id="reviewsCarousel">
            <div class="carousel-track" id="reviewsTrack">
                <!-- Reviews will be inserted by JavaScript -->
            </div>
        </div>
        <div class="carousel-indicators" id="reviewsIndicators">
            <!-- Indicators will be inserted by JavaScript -->
        </div>
    </div>



    <!-- Wisdom Section -->
    <section class="wisdom-section">
        <div class="wisdom-card">
            <p class="wisdom-text" id="wisdomText">The lottery: a tax on people who are bad at math, but excellent at hope.</p>
        </div>
    </section>

    <!-- Loading Animation -->
    <div id="loading" class="loading hidden">
        <div class="loading-spinner"></div>
        <p id="loadingText">Calculating your inevitable disappointment...</p>
    </div>
</div>

<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <p id="footerText">Remember: The house always wins, but at least you'll lose with style.</p>
        <small>Â© 2025 My Jackpot Numbers. Crushing dreams professionally since forever.</small>
    </div>
</footer>

<script>
// Lottery Wisdom hover dropdown functionality
document.addEventListener('DOMContentLoaded', function() {
    const blogNavWrapper = document.querySelector('.blog-nav-wrapper');
    const dropdown = document.querySelector('.lottery-wisdom-dropdown');

    if (blogNavWrapper && dropdown) {
        // Show dropdown on hover
        blogNavWrapper.addEventListener('mouseenter', function() {
            dropdown.classList.remove('hidden');
        });

        // Hide dropdown when mouse leaves
        blogNavWrapper.addEventListener('mouseleave', function() {
            dropdown.classList.add('hidden');
        });

        // Keep dropdown visible when hovering over it
        dropdown.addEventListener('mouseenter', function() {
            dropdown.classList.remove('hidden');
        });

        dropdown.addEventListener('mouseleave', function() {
            dropdown.classList.add('hidden');
        });
    }
});
</script>
{% endblock %}
